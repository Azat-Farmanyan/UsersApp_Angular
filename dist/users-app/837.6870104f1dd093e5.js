"use strict";(self.webpackChunkusersApp=self.webpackChunkusersApp||[]).push([[837],{837:(A,p,l)=>{l.r(p),l.d(p,{UserPageModule:()=>E});var c=l(6895),r=l(6773),e=l(8256),_=l(9576),m=l(1833),g=l(9991),s=l(433);function f(t,i){1&t&&(e.TgZ(0,"small",18),e._uU(1,"First name is required"),e.qZA())}function C(t,i){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,f,2,0,"small",17),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.editForm.get("firstName").errors.required)}}function x(t,i){1&t&&(e.TgZ(0,"small",18),e._uU(1,"Last name is required"),e.qZA())}function b(t,i){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,x,2,0,"small",17),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.editForm.get("lastName").errors.required)}}function h(t,i){1&t&&(e.TgZ(0,"small",18),e._uU(1,"Email is required"),e.qZA())}function M(t,i){1&t&&(e.TgZ(0,"small",18),e._uU(1,"Email is invalid"),e.qZA())}function v(t,i){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,h,2,0,"small",17),e.YNc(2,M,2,0,"small",17),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.editForm.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",n.editForm.get("email").errors.email)}}let P=(()=>{class t{constructor(){this.onCancel=new e.vpe,this.onSave=new e.vpe,this.user={avatar:"",email:"",first_name:"",id:0,last_name:""}}ngOnInit(){this.editForm=new s.cw({firstName:new s.NI(this.user.first_name,s.kI.required),lastName:new s.NI(this.user.last_name,s.kI.required),email:new s.NI(this.user.email,[s.kI.required,s.kI.email])})}cancel(){setTimeout(()=>{this.onCancel.emit()},0)}save(){const n=this.editForm.value;setTimeout(()=>{this.onSave.emit(n)},0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-modal"]],inputs:{user:"user"},outputs:{onCancel:"onCancel",onSave:"onSave"},decls:27,vars:5,consts:[[1,"edit-modal-bg",3,"click"],[1,"edit-modal"],[1,"edit-modal-body"],["src","../../../../../assets/icons/close-icon.svg","alt","close",1,"close-icon",3,"click"],[1,"medium-title"],[1,"edit-form",3,"formGroup"],["for","first-name",1,"input-label"],["formControlName","firstName","id","first-name","type","text",1,"edit-input","input"],["class","error",4,"ngIf"],["formControlName","lastName","id","first-name","type","text",1,"edit-input","input"],["formControlName","email","id","first-name","type","text",1,"edit-input","input"],[1,"btns-block"],["type","submit"],["btnTitle","Save",3,"btnDisabled","onClickBtn"],["type","button"],["btnTitle","Cancel",3,"onClickBtn"],[1,"error"],["class","error-text",4,"ngIf"],[1,"error-text"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.cancel()}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"img",3),e.NdJ("click",function(){return o.cancel()}),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Edit"),e.qZA(),e.TgZ(6,"form",5)(7,"div")(8,"label",6),e._uU(9,"First Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,C,2,1,"div",8),e.qZA(),e.TgZ(12,"div")(13,"label",6),e._uU(14,"Last Name"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,b,2,1,"div",8),e.qZA(),e.TgZ(17,"div")(18,"label",6),e._uU(19,"Email"),e.qZA(),e._UZ(20,"input",10),e.YNc(21,v,3,2,"div",8),e.qZA(),e.TgZ(22,"div",11)(23,"button",12)(24,"app-btn",13),e.NdJ("onClickBtn",function(){return o.save()}),e.qZA()(),e.TgZ(25,"button",14)(26,"app-btn",15),e.NdJ("onClickBtn",function(){return o.cancel()}),e.qZA()()()()()()),2&n){let a,d,u;e.xp6(6),e.Q6J("formGroup",o.editForm),e.xp6(5),e.Q6J("ngIf",null==(a=o.editForm.get("firstName"))?null:a.invalid),e.xp6(5),e.Q6J("ngIf",null==(d=o.editForm.get("lastName"))?null:d.invalid),e.xp6(5),e.Q6J("ngIf",null==(u=o.editForm.get("email"))?null:u.invalid),e.xp6(3),e.Q6J("btnDisabled",!o.editForm.valid)}},dependencies:[c.O5,m.H,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".edit-modal-bg[_ngcontent-%COMP%]{background:rgba(0,0,0,.8);position:fixed;inset:0;z-index:999}.edit-modal[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:1000;max-width:600px;width:100%}.edit-modal[_ngcontent-%COMP%]   .edit-modal-body[_ngcontent-%COMP%]{margin:0 20px;background:#ffffff;border-radius:10px;padding:35px;display:flex;flex-direction:column;gap:15px}.edit-modal[_ngcontent-%COMP%]   .edit-modal-body[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;right:40px;top:20px;width:30px;height:30px;cursor:pointer}.edit-modal[_ngcontent-%COMP%]   .edit-modal-body[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.edit-modal[_ngcontent-%COMP%]   .edit-modal-body[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{margin-left:15px;line-height:30px}.edit-modal[_ngcontent-%COMP%]   .edit-modal-body[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .btns-block[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;justify-content:space-around;gap:15px}"]}),t})();function Z(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-confirm-delete-modal",9),e.NdJ("onDelete",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.deleteUser())})("onCancel",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.closeDeleteModal())}),e.qZA()}}function T(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-edit-modal",10),e.NdJ("onSave",function(a){e.CHM(n);const d=e.oxw();return e.KtG(d.updateUser(a))})("onCancel",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.closeEditModal())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("user",n.user)}}function U(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",11),e._UZ(1,"img",12),e.TgZ(2,"div",13)(3,"p",14),e._uU(4),e.qZA(),e.TgZ(5,"p",14),e._uU(6),e.qZA(),e.TgZ(7,"p",14),e._uU(8),e.qZA(),e.TgZ(9,"p",14),e._uU(10),e.qZA(),e.TgZ(11,"div",15)(12,"app-btn",16),e.NdJ("onClickBtn",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.onClickEdit())}),e.qZA(),e.TgZ(13,"app-btn",17),e.NdJ("onClickBtn",function(){e.CHM(n);const a=e.oxw();return e.KtG(a.onClickDelete())}),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("src",n.user.avatar?n.user.avatar:"../../../../assets/images/default-avatar.jpg",e.LSH)("alt",n.user.first_name),e.xp6(3),e.hij("ID: ",n.user.id,""),e.xp6(2),e.hij("First Name: ",n.user.first_name,""),e.xp6(2),e.hij("Last Name: ",n.user.last_name,""),e.xp6(2),e.hij("Email: ",n.user.email,"")}}function O(t,i){1&t&&(e.TgZ(0,"p",14),e._uU(1,"Loading..."),e.qZA())}const k=function(){return["/users-page"]},y=[{path:"",component:(()=>{class t{constructor(n,o,a){this.route=n,this.usersService=o,this.router=a,this.loading=!1,this.openDeleteModal=!1,this.openEditModal=!1,this.user={avatar:"",email:"undefined",first_name:"undefined",id:0,last_name:"undefined"}}ngOnInit(){this.fetchUser()}fetchUser(){this.loading=!0,this.paramsSubscription=this.route.queryParams.subscribe(n=>{this.usersService.getUserById(+n.id).subscribe(o=>{this.user=o.data,this.loading=!1})})}deleteUser(){this.deleteUserSubs=this.usersService.deleteUser(this.user.id).subscribe(n=>{this.router.navigate(["/users-page"])})}updateUser(n){this.updateUserSubs=this.usersService.updateUser(this.user.id,n).subscribe(o=>{console.log(o),this.closeEditModal(),this.user.first_name=o.firstName,this.user.last_name=o.lastName,this.user.email=o.email})}onClickEdit(){this.showEditModal()}onClickDelete(){this.showDeleteModal()}showDeleteModal(){this.openDeleteModal=!0}closeDeleteModal(){this.openDeleteModal=!1}showEditModal(){this.openEditModal=!0}closeEditModal(){this.openEditModal=!1}ngOnDestroy(){this.paramsSubscription&&this.paramsSubscription.unsubscribe(),this.userSubs&&this.userSubs.unsubscribe(),this.deleteUserSubs&&this.deleteUserSubs.unsubscribe(),this.updateUserSubs&&this.updateUserSubs.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(r.gz),e.Y36(_.f),e.Y36(r.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-page"]],decls:10,vars:6,consts:[[1,"user-block"],[1,"wrapper","user-body"],[3,"onDelete","onCancel",4,"ngIf"],[3,"user","onSave","onCancel",4,"ngIf"],[1,"user-header"],["src","../../../../assets/icons/return-back.svg","alt","return",1,"return-back",3,"routerLink"],[1,"big-title"],["class","main",4,"ngIf"],["class","text",4,"ngIf"],[3,"onDelete","onCancel"],[3,"user","onSave","onCancel"],[1,"main"],[1,"card-img",3,"src","alt"],[1,"card-text-block"],[1,"text"],[1,"btns-block"],["btnTitle","Edit",3,"onClickBtn"],["btnTitle","Delete",3,"onClickBtn"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Z,1,0,"app-confirm-delete-modal",2),e.YNc(3,T,1,1,"app-edit-modal",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h1",6),e._uU(7,"User page"),e.qZA()(),e.YNc(8,U,14,6,"div",7),e.YNc(9,O,2,0,"p",8),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngIf",o.openDeleteModal),e.xp6(1),e.Q6J("ngIf",o.openEditModal),e.xp6(2),e.Q6J("routerLink",e.DdM(5,k)),e.xp6(3),e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[c.O5,r.rH,m.H,g.u,P],styles:[".user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:50px}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;padding-right:40%}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]   .return-back[_ngcontent-%COMP%]{width:33px;height:33px;cursor:pointer}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;transition:all .5s ease;width:100%;margin:0 auto;display:flex;align-items:center}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]:hover{box-shadow:0 4px 7px #68c7e466}@media only screen and (max-width: 600px){.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex-wrap:wrap}}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .card-text-block[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;flex-direction:column;height:300px;background-color:var(--blue-light);width:100%;padding:30px}.user-block[_ngcontent-%COMP%]   .user-body[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .card-text-block[_ngcontent-%COMP%]   .btns-block[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;flex-direction:space-around}"]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[r.Bz.forChild(y),r.Bz]}),t})();var N=l(4466);let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,w,N.m,s.UX]}),t})()}}]);